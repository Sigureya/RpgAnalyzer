(function(o,r){typeof exports=="object"&&typeof module<"u"?r(exports):typeof define=="function"&&define.amd?define(["exports"],r):(o=typeof globalThis<"u"?globalThis:o||self,r(o.RpgAnalyzer={}))})(this,function(o){"use strict";const u="bgm",c="se",d="me",s="bgs",F=e=>!!e,f=(e,t)=>e.pages.map((n,i)=>t(n,i,e)),g=(e,t)=>e.events.filter(F).map(n=>f(n,t)),p=(e,t)=>g(e,t).flat(2),b=(e,t)=>e.map(n=>f(n,t)),C=(e,t)=>e.map((n,i)=>t(n,i,n)),M=e=>e.folder===c||e.folder===u||e.folder===s||e.folder===d,h=[241,245,249,250,132,133,139,140],l=e=>h.includes(e.code),A=e=>({folder:v(e)||"",fileName:e.parameters[0].name}),v=e=>I[e.code],I={241:u,245:s,249:d,250:c,132:u,133:d,139:d,140:d},m=(e,t,n)=>e.list.filter(l).map(i=>({code:i.code,path:A(i),pageIndex:t,eventId:n.id})),T=e=>C(e,m).flat(2),_=e=>b(e,m).flat(2),E=e=>({bgm:e.bgm,bgs:e.bgs,commands:p(e,m)}),D=e=>({map:E(e.map),filename:e.filename,editingName:e.editingName}),N=e=>({sounds:a(e.sounds),bgm:a([e.battleBgm,e.titleBgm]),me:a([e.defeatMe,e.gameoverMe,e.victoryMe])}),a=e=>e.map((t,n)=>({index:n,path:t.name}));o.audioPathFromCommands=A,o.collectAudioCommands=m,o.expectAudioFromTroop=_,o.extractAudioCFromCommonEvents=T,o.extractAudioFromMap=E,o.extractAudioFromMapFileInfo=D,o.isAudioCommand=l,o.isAudioResource=M,o.systemAudioFiles=N,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=rpg-analyzer.umd.js.map
